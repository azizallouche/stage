{% extends 'base.html.twig' %}
{% block body %}
    <main>
        <h1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;My Dashboard</h1>
        <div class="todo-container row" style="margin-left:300px;">
            <div class="status" id="no_status" style="background-color: #fff;">
                <h2 style="margin-bottom:30px;color: #3d5af1; ">&nbsp;&nbsp;&nbsp;&nbsp;No Status</h2>





            </div>
            <div class="status"  id="not_started"style="background-color: #fff;">

                <h2 style="margin-bottom:30px;color: #3d5af1;">&nbsp;&nbsp;Not Started</h2>

            </div>
            <div class="status" id="in_progress" style="background-color: #fff;">

                <h2 style="margin-bottom:30px;color: #3d5af1;">&nbsp;&nbsp;In Progress</h2>

            </div>
            <div class="status" id="completed" style="background-color: #fff;">

                <h2 style="margin-bottom:30px;color: #3d5af1;">&nbsp;&nbsp;Completed</h2>

            </div>
        </div>


        <p class="copyright">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &copy; 2021 - <span>Aqumex</span> All Rights Reserved.
        </p>
    </main>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script type="text/javascript">
        $( document ).ready(function() {

                /* La variable value va prendre la valeur insérer dans le champ de texte afin d’effectuer la recherche */
                var value = $(this).val();
                /* Ajax est lancé lors du remplissage du champ texte dont l’id est « search » pour faire la recherche */
                $.ajax({
                    /* l’url est une chaine de caractères contenant l’adresse où la requête est envoyée */
                    'async': false,
                    'global': false,
                    'url': "http://127.0.0.1:8000/api/tickets.json",
                    'dataType': "json",
                    /*Cette fonction permet de vider le contenu du tableau pour recevoir le nouveau contenu*/
                    'success' : function(retour){
                        if(retour){

                            $.each(retour, function(i, obj) {


                                console.log(retour);


                                $('#no_status').append("<div class=\"todo\" id =\"no_status"+i+"\" name=\"vv\" draggable=\"true\" > <div class=\"card mb-5 mb-lg-0\" > <div  class=\"aa\"> <ul style=\"list-style-type: none;\"> <li class=\"name\" ><strong>&nbsp;&nbsp;"+obj.feature+"</strong></li> <li class=\"name1\">"+obj.idUser.nom+" "+obj.idUser.prenom+"</li> </ul> </div> </div> </div>");

                                // <td>'+obj.description+'</td><td>'+obj.dateajout+'  </td><td></td><td><a href="article/'+obj.id+'">show</a> </br><a href="article/'+obj.id+'/edit">edit</a></td></tr>');
                            });
                            const todos = document.querySelectorAll(".todo");
                            todos.forEach((todo) => {
                                todo.addEventListener("dragstart", dragStart);
                                todo.addEventListener("dragend", dragEnd);
                        });}
                        //$('#t tbody#search').append('<tr><td> '+obj.lieu+'  </td><td>    '+obj.nbPlace+'  </td><td>'+obj.descriptions+' </td><td>'+obj.dateEvent+' </td><td>'+obj.getcategory+' </td><td>'+obj.Description+'</td><td><td><a href="event/'+obj.idEvent+'/edit">Modifier</a></td></tr>');
                        else
                        {

                        }
                    },
                });







        });



    </script>
{% endblock %}